<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Apportionment scenarios • proporz</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Apportionment scenarios">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">proporz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/apportionment_scenarios.html">Apportionment scenarios</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/polettif/proporz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Apportionment scenarios</h1>
                        <h4 data-toc-skip class="author">Flavio
Poletti</h4>
            
            <h4 data-toc-skip class="date">2024-02-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/polettif/proporz/blob/master/vignettes/apportionment_scenarios.Rmd" class="external-link"><code>vignettes/apportionment_scenarios.Rmd</code></a></small>
      <div class="d-none name"><code>apportionment_scenarios.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">1) Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explores the implementation of different seat
apportionment scenarios. There are generally two ways to assign seats of
a parliament: Either you distribute seats within each district
independently or you distribute seats according to the vote share for
the whole election region (e.g. on a national level). We will focus on
the difference in seat shares compared to vote shares these two
approaches can produce.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="setup-data">2) Setup data<a class="anchor" aria-label="anchor" href="#setup-data"></a>
</h2>
<p>We’ll mainly use the data set for the 2019 Finnish parliamentary
elections. The <code>finland2019</code> data set contains two
data.frames: One with the number of votes for each party, the other
data.frame tells us how many seats (<code>election_mandates</code>) each
district has.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/polettif/proporz" class="external-link">proporz</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">finland2019</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ votes_df         :'data.frame':   229 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;   ..$ party_name   : chr [1:229] "KOK" "SDP" "VIHR" "PS" ...</span></span>
<span><span class="co">#&gt;   ..$ district_name: chr [1:229] "UUS" "UUS" "HEL" "UUS" ...</span></span>
<span><span class="co">#&gt;   ..$ votes        : int [1:229] 114243 97107 90662 86691 84141 78486 73626 66109 59722 55244 ...</span></span>
<span><span class="co">#&gt;  $ district_seats_df:'data.frame':   12 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;   ..$ district_name: chr [1:12] "HEL" "HÄM" "KAA" "KES" ...</span></span>
<span><span class="co">#&gt;   ..$ seats        : int [1:12] 22 14 17 10 7 18 19 8 15 36 ...</span></span></code></pre></div>
<p>To make comparisons easier, we’ll use matrices instead of
data.frames. We create a <code>votes_matrix</code> from the given
data.frame.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">votes_matrix</span> <span class="op">=</span> <span class="fu"><a href="../reference/pivot_to_matrix.html">pivot_to_matrix</a></span><span class="op">(</span><span class="va">finland2019</span><span class="op">$</span><span class="va">votes_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 44 12</span></span>
<span></span>
<span><span class="co"># Let's look at all parties with at least 10k votes</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">10000</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="7%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">HÄM</th>
<th align="right">HEL</th>
<th align="right">KAA</th>
<th align="right">KES</th>
<th align="right">LAP</th>
<th align="right">OUL</th>
<th align="right">PIR</th>
<th align="right">SAT</th>
<th align="right">SKA</th>
<th align="right">UUS</th>
<th align="right">VAA</th>
<th align="right">VAR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">KD</td>
<td align="right">11733</td>
<td align="right">7253</td>
<td align="right">10875</td>
<td align="right">8774</td>
<td align="right">1077</td>
<td align="right">5728</td>
<td align="right">17180</td>
<td align="right">3361</td>
<td align="right">17389</td>
<td align="right">14912</td>
<td align="right">16741</td>
<td align="right">5121</td>
</tr>
<tr class="even">
<td align="left">KESK</td>
<td align="right">20892</td>
<td align="right">11015</td>
<td align="right">40715</td>
<td align="right">30597</td>
<td align="right">29145</td>
<td align="right">78486</td>
<td align="right">26536</td>
<td align="right">20878</td>
<td align="right">50459</td>
<td align="right">35348</td>
<td align="right">50053</td>
<td align="right">29796</td>
</tr>
<tr class="odd">
<td align="left">KOK</td>
<td align="right">39511</td>
<td align="right">84141</td>
<td align="right">44224</td>
<td align="right">19707</td>
<td align="right">11243</td>
<td align="right">28382</td>
<td align="right">55244</td>
<td align="right">17666</td>
<td align="right">27699</td>
<td align="right">114243</td>
<td align="right">29530</td>
<td align="right">52367</td>
</tr>
<tr class="even">
<td align="left">Nyt</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">24778</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">NYT</td>
<td align="right">0</td>
<td align="right">13529</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1593</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">PIR</td>
<td align="right">996</td>
<td align="right">5840</td>
<td align="right">687</td>
<td align="right">1239</td>
<td align="right">280</td>
<td align="right">1244</td>
<td align="right">2018</td>
<td align="right">253</td>
<td align="right">686</td>
<td align="right">4083</td>
<td align="right">462</td>
<td align="right">1244</td>
</tr>
<tr class="odd">
<td align="left">PS</td>
<td align="right">43199</td>
<td align="right">47276</td>
<td align="right">46196</td>
<td align="right">27851</td>
<td align="right">17160</td>
<td align="right">52771</td>
<td align="right">51819</td>
<td align="right">30090</td>
<td align="right">39996</td>
<td align="right">86691</td>
<td align="right">42843</td>
<td align="right">52913</td>
</tr>
<tr class="even">
<td align="left">RKP</td>
<td align="right">500</td>
<td align="right">20348</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">112</td>
<td align="right">432</td>
<td align="right">327</td>
<td align="right">178</td>
<td align="right">0</td>
<td align="right">49625</td>
<td align="right">52880</td>
<td align="right">15238</td>
</tr>
<tr class="odd">
<td align="left">SDP</td>
<td align="right">49359</td>
<td align="right">52393</td>
<td align="right">59722</td>
<td align="right">29201</td>
<td align="right">13479</td>
<td align="right">26588</td>
<td align="right">66109</td>
<td align="right">31475</td>
<td align="right">38274</td>
<td align="right">97107</td>
<td align="right">33608</td>
<td align="right">49156</td>
</tr>
<tr class="even">
<td align="left">SIN</td>
<td align="right">821</td>
<td align="right">2056</td>
<td align="right">3212</td>
<td align="right">705</td>
<td align="right">483</td>
<td align="right">1801</td>
<td align="right">3342</td>
<td align="right">0</td>
<td align="right">4128</td>
<td align="right">9498</td>
<td align="right">2470</td>
<td align="right">1427</td>
</tr>
<tr class="odd">
<td align="left">STL</td>
<td align="right">1028</td>
<td align="right">1285</td>
<td align="right">829</td>
<td align="right">389</td>
<td align="right">667</td>
<td align="right">847</td>
<td align="right">1371</td>
<td align="right">199</td>
<td align="right">769</td>
<td align="right">2754</td>
<td align="right">777</td>
<td align="right">451</td>
</tr>
<tr class="even">
<td align="left">VAS</td>
<td align="right">15172</td>
<td align="right">42899</td>
<td align="right">10371</td>
<td align="right">12681</td>
<td align="right">14128</td>
<td align="right">33820</td>
<td align="right">24341</td>
<td align="right">12435</td>
<td align="right">15908</td>
<td align="right">26257</td>
<td align="right">8315</td>
<td align="right">35481</td>
</tr>
<tr class="odd">
<td align="left">VIHR</td>
<td align="right">17354</td>
<td align="right">90662</td>
<td align="right">23032</td>
<td align="right">17639</td>
<td align="right">9706</td>
<td align="right">20376</td>
<td align="right">37152</td>
<td align="right">7461</td>
<td align="right">21362</td>
<td align="right">73626</td>
<td align="right">10515</td>
<td align="right">25309</td>
</tr>
</tbody>
</table>
<p>We also create a named vector that defines how many seats each
district has (<code>district_seats</code>). Note that the order of
district names in <code>district_seats</code> and columns in
<code>votes_matrix</code> differ. However, this does not affect the
analysis as we access districts by name (as does
<code><a href="../reference/biproporz.html">biproporz()</a></code> by the way).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">district_seats</span> <span class="op">=</span> <span class="va">finland2019</span><span class="op">$</span><span class="va">district_seats_df</span><span class="op">$</span><span class="va">seats</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">district_seats</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">finland2019</span><span class="op">$</span><span class="va">district_seats_df</span><span class="op">$</span><span class="va">district_name</span></span>
<span><span class="va">district_seats</span></span>
<span><span class="co">#&gt; HEL HÄM KAA KES LAP OUL PIR SAT SKA UUS VAA VAR </span></span>
<span><span class="co">#&gt;  22  14  17  10   7  18  19   8  15  36  16  17</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="distribute-seats-in-every-district-independently">3) Distribute seats in every district independently<a class="anchor" aria-label="anchor" href="#distribute-seats-in-every-district-independently"></a>
</h2>
<div class="section level3">
<h3 id="function-to-distribute-seats-in-districts">3.1) Function to distribute seats in districts<a class="anchor" aria-label="anchor" href="#function-to-distribute-seats-in-districts"></a>
</h3>
<p>In Finland and many other jurisdictions, seats are assigned for each
district independently. There is no biproportional apportionment among
all districts. The following function, <code>apply_proporz</code>,
calculates the seat distribution for each district and returns the
number of seats per party and district as a matrix. The user can specify
the apportionment method and a quorum threshold.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">apply_proporz</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">votes_matrix</span>, <span class="va">district_seats</span>, <span class="va">method</span>, <span class="va">quorum</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">seats_matrix</span> <span class="op">=</span> <span class="va">votes_matrix</span></span>
<span>    <span class="va">seats_matrix</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span>    </span>
<span>    <span class="co"># calculate proportional apportionment for each district (matrix column)</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">district</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">district_seats</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">seats_matrix</span><span class="op">[</span>,<span class="va">district</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proporz.html">proporz</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">[</span>,<span class="va">district</span><span class="op">]</span>,</span>
<span>                                           <span class="va">district_seats</span><span class="op">[</span><span class="va">district</span><span class="op">]</span>,</span>
<span>                                           quorum <span class="op">=</span> <span class="va">quorum</span>,</span>
<span>                                           method <span class="op">=</span> <span class="va">method</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">seats_matrix</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="actual-distribution-method-dhondt">3.2) Actual distribution method (D’Hondt)<a class="anchor" aria-label="anchor" href="#actual-distribution-method-dhondt"></a>
</h3>
<p>The Finnish election system uses the <em>D’Hondt</em> method. We’ll
calculate the seat distribution as a baseline to compare it with other
methods.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bydistrict_v0</span> <span class="op">=</span> <span class="fu">apply_proporz</span><span class="op">(</span><span class="va">votes_matrix</span>, <span class="va">district_seats</span>, <span class="st">"d'hondt"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bydistrict_v0</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">bydistrict_v0</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span>,<span class="op">]</span></span>
<span><span class="co">#&gt;           district_name</span></span>
<span><span class="co">#&gt; party_name HÄM HEL KAA KES LAP OUL PIR SAT SKA UUS VAA VAR</span></span>
<span><span class="co">#&gt;       KD     1   0   0   0   0   0   1   0   1   1   1   0</span></span>
<span><span class="co">#&gt;       KESK   1   0   3   3   3   6   2   1   4   2   4   2</span></span>
<span><span class="co">#&gt;       KOK    3   6   3   1   1   2   4   1   2   9   2   4</span></span>
<span><span class="co">#&gt;       Nyt    0   0   0   0   0   0   0   0   0   1   0   0</span></span>
<span><span class="co">#&gt;       PS     3   3   4   2   1   4   4   2   3   6   3   4</span></span>
<span><span class="co">#&gt;       RKP    0   1   0   0   0   0   0   0   0   3   4   1</span></span>
<span><span class="co">#&gt;       SDP    4   3   5   2   1   2   5   3   3   7   2   3</span></span>
<span><span class="co">#&gt;       VAS    1   3   0   1   1   3   1   1   1   2   0   2</span></span>
<span><span class="co">#&gt;       VIHR   1   6   2   1   0   1   2   0   1   5   0   1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="alternative-methods">3.3) Alternative methods<a class="anchor" aria-label="anchor" href="#alternative-methods"></a>
</h3>
<p>We’ll now look at alternative apportionment methods. The
<em>Sainte-Laguë</em> method (standard rounding) for example is
impartial to party size. On the other hand, the <em>Huntington–Hill</em>
method favors small parties. Generally, Huntington-Hill is used with a
quorum, otherwise all parties with more than zero votes get at least one
seat. In this example, the quorum is 3% of votes in a district.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bydistrict_v1</span> <span class="op">=</span> <span class="fu">apply_proporz</span><span class="op">(</span><span class="va">votes_matrix</span>, <span class="va">district_seats</span>,</span>
<span>                                      method <span class="op">=</span> <span class="st">"sainte-lague"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bydistrict_v2</span> <span class="op">=</span> <span class="fu">apply_proporz</span><span class="op">(</span><span class="va">votes_matrix</span>, <span class="va">district_seats</span>,</span>
<span>                                      method <span class="op">=</span> <span class="st">"huntington-hill"</span>, </span>
<span>                                      quorum <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></span></code></pre></div>
<p>Let’s compare the seat distributions for these three methods. We get
the number of party seats on the national level with
<code>rowSums</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_bydistrict</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    D.Hondt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">bydistrict_v0</span><span class="op">)</span>,</span>
<span>    Sainte.Lague <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">bydistrict_v1</span><span class="op">)</span>,</span>
<span>    Huntington.Hill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">bydistrict_v2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sort table by D'Hondt seats</span></span>
<span><span class="va">df_bydistrict</span> <span class="op">&lt;-</span> <span class="va">df_bydistrict</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">df_bydistrict</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,<span class="op">]</span> </span>
<span></span>
<span><span class="co"># print parties with at least one seat</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">df_bydistrict</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">df_bydistrict</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">D.Hondt</th>
<th align="right">Sainte.Lague</th>
<th align="right">Huntington.Hill</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">SDP</td>
<td align="right">40</td>
<td align="right">36</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">PS</td>
<td align="right">39</td>
<td align="right">37</td>
<td align="right">37</td>
</tr>
<tr class="odd">
<td align="left">KOK</td>
<td align="right">38</td>
<td align="right">35</td>
<td align="right">35</td>
</tr>
<tr class="even">
<td align="left">KESK</td>
<td align="right">31</td>
<td align="right">29</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">VIHR</td>
<td align="right">20</td>
<td align="right">25</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">VAS</td>
<td align="right">16</td>
<td align="right">18</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">RKP</td>
<td align="right">9</td>
<td align="right">8</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">KD</td>
<td align="right">5</td>
<td align="right">7</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Nyt</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">NYT</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">SIN</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>The actual political analysis is better left for people familiar with
the party system. However, it is fair to say that the election system
within districts has a significant impact on the number of seats in
parliament. For example, the party with the most seats changes with
Sainte-Laguë or Huntington-Hill.</p>
</div>
<div class="section level3">
<h3 id="compare-seat-share-with-vote-share">3.4) Compare seat share with vote share<a class="anchor" aria-label="anchor" href="#compare-seat-share-with-vote-share"></a>
</h3>
<p>Let’s now compare the vote shares on the national level with the seat
share in parliament. Since every entry in <code>votes_matrix</code> is
only one voter, we can simply use the row sums to get the vote shares.
Otherwise, we’d have to weigh votes in each district according to the
number of seats. Since disproportionality analysis is not the focus of
this package, we’ll simply look at the difference in shares for the
actual distribution method.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vote_shares</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span></span>
<span></span>
<span><span class="va">shares</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    seats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">bydistrict_v0</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">district_seats</span><span class="op">)</span>,</span>
<span>    votes <span class="op">=</span> <span class="va">vote_shares</span> </span>
<span><span class="op">)</span></span>
<span><span class="va">shares</span><span class="op">$</span><span class="va">difference</span> <span class="op">&lt;-</span> <span class="va">shares</span><span class="op">$</span><span class="va">seats</span><span class="op">-</span><span class="va">shares</span><span class="op">$</span><span class="va">votes</span></span>
<span><span class="va">shares</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">shares</span>, <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Only look at parties with at least 0.5 % of votes</span></span>
<span><span class="va">shares</span> <span class="op">&lt;-</span> <span class="va">shares</span><span class="op">[</span><span class="va">shares</span><span class="op">$</span><span class="va">votes</span> <span class="op">&gt;</span> <span class="fl">0.005</span>,<span class="op">]</span></span>
<span><span class="va">shares</span> <span class="op">&lt;-</span> <span class="va">shares</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">shares</span><span class="op">$</span><span class="va">difference</span><span class="op">)</span>,<span class="op">]</span></span>
<span></span>
<span><span class="va">shares</span></span>
<span><span class="co">#&gt;       seats  votes difference</span></span>
<span><span class="co">#&gt; VIHR 0.1005 0.1154    -0.0149</span></span>
<span><span class="co">#&gt; KD   0.0251 0.0391    -0.0140</span></span>
<span><span class="co">#&gt; SIN  0.0000 0.0098    -0.0098</span></span>
<span><span class="co">#&gt; PIR  0.0000 0.0062    -0.0062</span></span>
<span><span class="co">#&gt; Nyt  0.0050 0.0081    -0.0030</span></span>
<span><span class="co">#&gt; VAS  0.0804 0.0821    -0.0017</span></span>
<span><span class="co">#&gt; RKP  0.0452 0.0455    -0.0003</span></span>
<span><span class="co">#&gt; KESK 0.1558 0.1381     0.0176</span></span>
<span><span class="co">#&gt; KOK  0.1910 0.1707     0.0202</span></span>
<span><span class="co">#&gt; PS   0.1960 0.1756     0.0204</span></span>
<span><span class="co">#&gt; SDP  0.2010 0.1781     0.0229</span></span></code></pre></div>
<p>The difference between seat and vote share varies among parties from
-1.5 to +2.3 percentage points.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="biproportional-method">4) Biproportional method<a class="anchor" aria-label="anchor" href="#biproportional-method"></a>
</h2>
<div class="section level3">
<h3 id="biproportional-party-seats">4.1) Biproportional party seats<a class="anchor" aria-label="anchor" href="#biproportional-party-seats"></a>
</h3>
<p>We’ll now look at biproportional apportionment and whether it better
matches the seat share with the national vote share. Keep in mind that
simply using existing data sets with <code>biproporz</code> is not
really suitable from a modeling perspective. Vote distributions are
likely to be different if, for example, people know their vote also
counts on a national level or if smaller parties choose to run in more
districts.</p>
<p>With that being said, let’s assume our data set is properly modeled
already. We need to consider that voters in Finland can only vote for
<em>one</em> person in each district. They can’t distribute as many
votes as there are seats in their district among candidates/parties.
Thus we need to use <code>use_list_votes=FALSE</code> as a parameter in
<code>biproporz</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seats_biproportional</span> <span class="op">=</span> <span class="fu"><a href="../reference/biproporz.html">biproporz</a></span><span class="op">(</span><span class="va">votes_matrix</span>, </span>
<span>                                 <span class="va">district_seats</span>, </span>
<span>                                 use_list_votes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show only parties with seats</span></span>
<span><span class="va">seats_biproportional</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">seats_biproportional</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span>,<span class="op">]</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">HÄM</th>
<th align="right">HEL</th>
<th align="right">KAA</th>
<th align="right">KES</th>
<th align="right">LAP</th>
<th align="right">OUL</th>
<th align="right">PIR</th>
<th align="right">SAT</th>
<th align="right">SKA</th>
<th align="right">UUS</th>
<th align="right">VAA</th>
<th align="right">VAR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">KD</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">KESK</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">KOK</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">7</td>
<td align="right">2</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">KP</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Nyt</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">NYT</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">PIR</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">PS</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">RKP</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">SDP</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">SIN</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">STL</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">VAS</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">VIHR</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>Let’s now look at the difference between vote and seat share.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vote_shares</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">votes_matrix</span><span class="op">)</span></span>
<span><span class="va">seat_shares</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">seats_biproportional</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">seats_biproportional</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">vote_shares</span> <span class="op">-</span> <span class="va">seat_shares</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -0.005144852  0.002429257</span></span></code></pre></div>
<p>As we can see, the difference between vote and seat share ranges from
-0.5 to +0.2 percentage point. Biproportional apportionment matches the
national vote share better than apportionment by district. This is
expected however, since biproportional apportionment actually considers
the national vote share. Discussing the pros and cons of a regional
representation compared to a priority on national vote shares is not
within the scope of this vignette. The following chunk shows the seat
changes.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seat_changes</span> <span class="op">=</span> <span class="va">seats_biproportional</span><span class="op">-</span><span class="va">bydistrict_v0</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">seat_changes</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">seat_changes</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">seat_changes</span><span class="op">)</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">HEL</th>
<th align="right">KAA</th>
<th align="right">KES</th>
<th align="right">LAP</th>
<th align="right">OUL</th>
<th align="right">PIR</th>
<th align="right">SAT</th>
<th align="right">SKA</th>
<th align="right">UUS</th>
<th align="right">VAA</th>
<th align="right">VAR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">KD</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">KESK</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">KOK</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-2</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">KP</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Nyt</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">NYT</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">PIR</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">PS</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">-1</td>
</tr>
<tr class="odd">
<td align="left">RKP</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">-1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">SDP</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">SIN</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">STL</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">VAS</td>
<td align="right">-1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">-1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">VIHR</td>
<td align="right">-1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="distribute-seats-among-districts-as-well">4.2) Distribute seats among districts as well<a class="anchor" aria-label="anchor" href="#distribute-seats-among-districts-as-well"></a>
</h3>
<p>Normally the number of seats per district is defined before an
election, based on census data. However, you <em>could</em> also assign
the number of seats per district, based on the actual votes cast in
every district. This way, each districts seat share is proportional to
its vote share. To do this, we use the total number of seats for the
<code>district_seats</code> parameter.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">full_biproportional</span> <span class="op">=</span> <span class="fu"><a href="../reference/biproporz.html">biproporz</a></span><span class="op">(</span><span class="va">votes_matrix</span>, </span>
<span>                                district_seats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">district_seats</span><span class="op">)</span>,</span>
<span>                                use_list_votes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># party seat distribution has not changed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">full_biproportional</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">seats_biproportional</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Asyl   E117   E118   E154   E168   E169   E185   E191   E192   E287   E491 </span></span>
<span><span class="co">#&gt;      0      0      0      0      0      0      0      0      0      0      0 </span></span>
<span><span class="co">#&gt;   E492   E493    EOP     FP     IP     KD   KESK    KOK     KP    KTP   LIBE </span></span>
<span><span class="co">#&gt;      0      0      0      0      0      0      0      0      0      0      0 </span></span>
<span><span class="co">#&gt;    LII   LIIK     LN   LNLY    LNY   LNYL    Nyt    NYT    PEL    PIR     PS </span></span>
<span><span class="co">#&gt;      0      0      0      0      0      0      0      0      0      0      0 </span></span>
<span><span class="co">#&gt;    REF Reform    RKP    RLI    SDP    SIN    SKE    SKP    STL    VAS   VIHR </span></span>
<span><span class="co">#&gt;      0      0      0      0      0      0      0      0      0      0      0</span></span>
<span></span>
<span><span class="co"># district seat distribution is different</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">full_biproportional</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">seats_biproportional</span><span class="op">)</span></span>
<span><span class="co">#&gt; HÄM HEL KAA KES LAP OUL PIR SAT SKA UUS VAA VAR </span></span>
<span><span class="co">#&gt;  -1   3  -1   0   0  -1   0   0  -1   0   0   1</span></span></code></pre></div>
<p>As we can see, the number of party seats does not change. However,
districts where more people voted get a higher share of the seats. 2
districts gain seats, 4 districts lose a seat.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="effect-of-a-system-change-on-seat-distribution">5) Effect of a system change on seat distribution<a class="anchor" aria-label="anchor" href="#effect-of-a-system-change-on-seat-distribution"></a>
</h2>
<p>As a last example, we’ll look at the changes in seat distribution
biproportional apportionment had in the 2020 parliament election in the
Swiss canton of Uri. In Uri, 2020 was the first year the cantonal
parliament was elected with biproportional apportionment for some
municipalities. Previously, these four municipalities used the
<em>Hagenbach-Bischoff</em> method. We’ll ignore all other
municipalities which use a majoritarian electoral system.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seats_old_system</span> <span class="op">=</span> <span class="fu">apply_proporz</span><span class="op">(</span><span class="va">uri2020</span><span class="op">$</span><span class="va">votes_matrix</span>, <span class="va">uri2020</span><span class="op">$</span><span class="va">seats_vector</span>, <span class="st">"hagenbach-bischoff"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">seats_new_system</span> <span class="op">=</span> <span class="fu"><a href="../reference/biproporz.html">biproporz</a></span><span class="op">(</span><span class="va">uri2020</span><span class="op">$</span><span class="va">votes_matrix</span>, <span class="va">uri2020</span><span class="op">$</span><span class="va">seats_vector</span><span class="op">)</span></span>
<span></span>
<span><span class="va">seats_new_system</span><span class="op">-</span><span class="va">seats_old_system</span></span>
<span><span class="co">#&gt;      Altdorf Bürglen Erstfeld Schattdorf</span></span>
<span><span class="co">#&gt; CVP        1       0        0          0</span></span>
<span><span class="co">#&gt; SPGB      -1       0        0          0</span></span>
<span><span class="co">#&gt; FDP        0       0        0          0</span></span>
<span><span class="co">#&gt; SVP        0       0        0          0</span></span></code></pre></div>
<p>Compared to the previous election system there was a change of one
seat (out of 37).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Flavio Poletti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
